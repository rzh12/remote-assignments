<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
</head>
<body>
    <h1>Home Page</h1>

    <h2>Sign Up</h2>
    <form id="signupForm" action="/signup" method="post" onsubmit="return validateEmail('signupEmail')">
        <label for="signupEmail">Email:</label>
        <input type="text" id="signupEmail" name="email" required><br><br>
        <label for="signupPassword">Password:</label>
        <input type="password" id="signupPassword" name="password" required><br><br>
        <button type="submit">Sign Up</button>
    </form>

    <h2>Sign In</h2>
    <form id="signinForm" action="/signin" method="post" onsubmit="return validateEmail('signinEmail')">
        <label for="signinEmail">Email:</label>
        <input type="text" id="signinEmail" name="email" required><br><br>
        <label for="signinPassword">Password:</label>
        <input type="password" id="signinPassword" name="password" required><br><br>
        <button type="submit">Sign In</button>
    </form>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('error')) {
            const error = urlParams.get('error');
            // Display an alert if the email is already registered
            if (error === 'emailUsed') {
                alert('Email is already registered.');
            }
            // Display an alert if the email or password is invalid
            if (error === 'invalidCredentials') {
                alert('Invalid email or password.');
            }
        }
        // Validates the email address entered in the form
        function validateEmail(inputId) {
            const emailInput = document.getElementById(inputId);
            // Checks if there is an '@' in the email address
            if (emailInput.value.indexOf('@') === -1) {
                alert('Please enter a valid email address.');
                return false;
            }
            return true;
        }
    </script>
</body>
</html>
